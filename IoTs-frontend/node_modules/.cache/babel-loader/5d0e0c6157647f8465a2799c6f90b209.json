{"ast":null,"code":"/*\r\n * @Author: ryma.naiatamara \r\n * @Date: 2020-02-12 11:23:59 \r\n * @Last Modified time: 2020-02-12 11:51:36\r\n * \r\n *  Copyright (c) 2019 Red Alert Labs S.A.S.\r\n *  All Rights Reserved.\r\n *  This software is the confidential and proprietary information of\r\n *  Red Alert Labs S.A.S. (Confidential Information). You shall not\r\n *  disclose such Confidential Information and shall use it only in\r\n *  accordance with the terms of the license agreement you entered\r\n *  into with Red Alert Labs S.A.S.\r\n *  RED ALERT LABS S.A.S. MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE\r\n *  SUITABILITY OF THE SOFTWARE, EITHER EXPRESS OR IMPLIED, INCLUDING\r\n *  BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS\r\n *  FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT. RED ALERT LABS S.A.S. SHALL\r\n *  NOT BE LIABLE FOR ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING,\r\n *  MODIFYING OR DISTRIBUTING THIS SOFTWARE OR ITS DERIVATIVES.\r\n * \r\n */\nimport * as actionTypes from './actions';\nimport config from './../util/config';\nconst initialState = {\n  isOpen: [],\n  //for active default menu\n  isTrigger: [],\n  //for active default menu, set blank for horizontal\n  ...config,\n  isFullScreen: false // static can't change\n\n};\n\nconst reducer = (state = initialState, action) => {\n  let trigger = [];\n  let open = [];\n\n  switch (action.type) {\n    case actionTypes.COLLAPSE_MENU:\n      return { ...state,\n        collapseMenu: !state.collapseMenu\n      };\n\n    case actionTypes.COLLAPSE_TOGGLE:\n      if (action.menu.type === 'sub') {\n        open = state.isOpen;\n        trigger = state.isTrigger;\n        const triggerIndex = trigger.indexOf(action.menu.id);\n\n        if (triggerIndex > -1) {\n          open = open.filter(item => item !== action.menu.id);\n          trigger = trigger.filter(item => item !== action.menu.id);\n        }\n\n        if (triggerIndex === -1) {\n          open = [...open, action.menu.id];\n          trigger = [...trigger, action.menu.id];\n        }\n      } else {\n        open = state.isOpen;\n        const triggerIndex = state.isTrigger.indexOf(action.menu.id);\n        trigger = triggerIndex === -1 ? [action.menu.id] : [];\n        open = triggerIndex === -1 ? [action.menu.id] : [];\n      }\n\n      return { ...state,\n        isOpen: open,\n        isTrigger: trigger\n      };\n\n    case actionTypes.NAV_CONTENT_LEAVE:\n      return { ...state,\n        isOpen: open,\n        isTrigger: trigger\n      };\n\n    case actionTypes.NAV_COLLAPSE_LEAVE:\n      if (action.menu.type === 'sub') {\n        open = state.isOpen;\n        trigger = state.isTrigger;\n        const triggerIndex = trigger.indexOf(action.menu.id);\n\n        if (triggerIndex > -1) {\n          open = open.filter(item => item !== action.menu.id);\n          trigger = trigger.filter(item => item !== action.menu.id);\n        }\n\n        return { ...state,\n          isOpen: open,\n          isTrigger: trigger\n        };\n      }\n\n      return { ...state\n      };\n\n    case actionTypes.FULL_SCREEN:\n      return { ...state,\n        isFullScreen: !state.isFullScreen\n      };\n\n    case actionTypes.FULL_SCREEN_EXIT:\n      return { ...state,\n        isFullScreen: false\n      };\n\n    case actionTypes.CHANGE_LAYOUT:\n      return { ...state,\n        layout: action.layout\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/mazigh/Desktop/iots/IoTs-frontend/src/store/reducer.js"],"names":["actionTypes","config","initialState","isOpen","isTrigger","isFullScreen","reducer","state","action","trigger","open","type","COLLAPSE_MENU","collapseMenu","COLLAPSE_TOGGLE","menu","triggerIndex","indexOf","id","filter","item","NAV_CONTENT_LEAVE","NAV_COLLAPSE_LEAVE","FULL_SCREEN","FULL_SCREEN_EXIT","CHANGE_LAYOUT","layout"],"mappings":"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","sourcesContent":["\r\n/*\r\n * @Author: ryma.naiatamara \r\n * @Date: 2020-02-12 11:23:59 \r\n * @Last Modified time: 2020-02-12 11:51:36\r\n * \r\n *  Copyright (c) 2019 Red Alert Labs S.A.S.\r\n *  All Rights Reserved.\r\n *  This software is the confidential and proprietary information of\r\n *  Red Alert Labs S.A.S. (Confidential Information). You shall not\r\n *  disclose such Confidential Information and shall use it only in\r\n *  accordance with the terms of the license agreement you entered\r\n *  into with Red Alert Labs S.A.S.\r\n *  RED ALERT LABS S.A.S. MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE\r\n *  SUITABILITY OF THE SOFTWARE, EITHER EXPRESS OR IMPLIED, INCLUDING\r\n *  BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS\r\n *  FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT. RED ALERT LABS S.A.S. SHALL\r\n *  NOT BE LIABLE FOR ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING,\r\n *  MODIFYING OR DISTRIBUTING THIS SOFTWARE OR ITS DERIVATIVES.\r\n * \r\n */\r\n\r\nimport * as actionTypes from './actions';\r\nimport config from './../util/config';\r\n\r\n\r\n\r\nconst initialState = {\r\n    isOpen: [], //for active default menu\r\n    isTrigger: [], //for active default menu, set blank for horizontal\r\n    ...config,\r\n    isFullScreen: false, // static can't change\r\n};\r\n\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    let trigger = [];\r\n    let open = [];\r\n\r\n    switch (action.type) {\r\n        case actionTypes.COLLAPSE_MENU:\r\n            return {\r\n                ...state,\r\n                collapseMenu: !state.collapseMenu\r\n            };\r\n        case actionTypes.COLLAPSE_TOGGLE:\r\n            if (action.menu.type === 'sub') {\r\n                open = state.isOpen;\r\n                trigger = state.isTrigger;\r\n\r\n                const triggerIndex = trigger.indexOf(action.menu.id);\r\n                if (triggerIndex > -1) {\r\n                    open = open.filter(item => item !== action.menu.id);\r\n                    trigger = trigger.filter(item => item !== action.menu.id);\r\n                }\r\n\r\n                if (triggerIndex === -1) {\r\n                    open = [...open, action.menu.id];\r\n                    trigger = [...trigger, action.menu.id];\r\n                }\r\n            } else {\r\n                open = state.isOpen;\r\n                const triggerIndex = (state.isTrigger).indexOf(action.menu.id);\r\n                trigger = (triggerIndex === -1) ? [action.menu.id] : [];\r\n                open = (triggerIndex === -1) ? [action.menu.id] : [];\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                isOpen: open,\r\n                isTrigger: trigger\r\n            };\r\n        case actionTypes.NAV_CONTENT_LEAVE:\r\n            return {\r\n                ...state,\r\n                isOpen: open,\r\n                isTrigger: trigger,\r\n            };\r\n        case actionTypes.NAV_COLLAPSE_LEAVE:\r\n            if (action.menu.type === 'sub') {\r\n                open = state.isOpen;\r\n                trigger = state.isTrigger;\r\n\r\n                const triggerIndex = trigger.indexOf(action.menu.id);\r\n                if (triggerIndex > -1) {\r\n                    open = open.filter(item => item !== action.menu.id);\r\n                    trigger = trigger.filter(item => item !== action.menu.id);\r\n                }\r\n                return {\r\n                    ...state,\r\n                    isOpen: open,\r\n                    isTrigger: trigger,\r\n                };\r\n            }\r\n            return {...state};\r\n        case actionTypes.FULL_SCREEN :\r\n            return {\r\n                ...state,\r\n                isFullScreen: !state.isFullScreen\r\n            };\r\n        case actionTypes.FULL_SCREEN_EXIT:\r\n            return {\r\n                ...state,\r\n                isFullScreen: false\r\n            };\r\n        case actionTypes.CHANGE_LAYOUT:\r\n            return {\r\n                ...state,\r\n                layout: action.layout\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}